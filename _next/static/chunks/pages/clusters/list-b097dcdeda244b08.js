(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{41344:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clusters/list",function(){return s(42361)}])},10923:function(t,e,s){"use strict";s.d(e,{X:function(){return r}});var l=s(85893),o=s(8478);let r=t=>{let{children:e,css:s={}}=t;return(0,l.jsxs)(o.W2,{css:{borderRadius:0,marginTop:"$7xl",...s},children:[(0,l.jsx)(o.xv,{variant:"h4",children:"Error \uD83D\uDE25"}),(0,l.jsx)(o.xv,{variant:"body",children:e})]})}},42361:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return f}});var l=s(85893),o=s(8478),r=s(11163),n=s(71299),i=s(21237),a=s(67294),c=s(83121),u=s(71866),d=s(10923);let h=[{accessorKey:"clusterDisplay",header:"Cluster",sortable:!0,sortAccessor:t=>t.cluster},{accessorKey:"validators",header:"Validators",sortable:!0},{accessorKey:"operators",header:"Operators",sortable:!0}],v=t=>{var e,s;let{operator:r,setTotalClusters:c,setTotalValidators:v}=t,{isLoading:x,error:p,clusterDefinitionData:f,lockData:_}=(0,n.Hq)(r),{provider:g}=(0,n.kR)(),m=(null==_?void 0:null===(e=_.cluster_locks)||void 0===e?void 0:e.map(t=>{var e,s,r,n;return{id:t._id,clusterDisplay:(0,l.jsx)(o.rU,{href:"/clusters/details/?lockHash=".concat(t.lock_hash),children:t.cluster_definition.name}),cluster:t.cluster_definition.name,validators:null===(e=t.cluster_definition)||void 0===e?void 0:null===(s=e.validators)||void 0===s?void 0:s.length,operators:null===(r=t.cluster_definition)||void 0===r?void 0:null===(n=r.operators)||void 0===n?void 0:n.length}}))||[],j=(null==_?void 0:_.cluster_locks.map(t=>t.cluster_definition.config_hash))||[],b=null==f?void 0:null===(s=f.cluster_definitions)||void 0===s?void 0:s.filter(t=>!(null==j?void 0:j.includes(t.config_hash))),k=(null==b?void 0:b.map(t=>{var e,s;let r=t.operators.every(t=>""===t.address),n=r?"/solo/create-cluster/?configHash=".concat(t.config_hash,"&fromList=true"):"/dv/?configHash=".concat(t.config_hash);return{id:t._id,clusterDisplay:(0,l.jsx)(o.rU,{href:n,children:t.name}),cluster:t.name,status:(0,l.jsx)(o.HV,{textVariant:"body",status:(0,i.yc)(t)}),validators:null==t?void 0:null===(e=t.validators)||void 0===e?void 0:e.length,operators:null==t?void 0:null===(s=t.operators)||void 0===s?void 0:s.length}}))||[];return((0,a.useEffect)(()=>{if(v&&v((null==_?void 0:_.total_count)||0),c){let t=(null==k?void 0:k.length)+(null==j?void 0:j.length);t>0&&c(t)}},[_,f,c,v]),r||x||g)?x?(0,l.jsx)(o.xv,{children:"Loading..."}):p?(0,l.jsx)(o.xv,{children:"Error | no data"}):(null==f?void 0:f.total_count)||(null==_?void 0:_.total_count)||x?(0,l.jsx)(u.g_,{css:{".table-container":{"@sm":{width:"694px"}}},children:(0,l.jsx)(o.Nk,{tabs:[{title:"Clusters",count:null==_?void 0:_.total_count,tableProps:{columns:h,rows:m}},{title:"Invites",count:null==k?void 0:k.length,tableProps:{columns:h,rows:k}}]})}):(0,l.jsx)(o.xv,{children:"No clusters"}):(0,l.jsxs)(d.X,{css:{marginTop:"$lg"},children:["Operator not found. Please ensure your wallet is connected or verify that the ",(0,l.jsx)("code",{children:"walletAddress"})," parameter in the URL is correctly set to list the clusters."]})},x=(0,o.zo)(o.kC,{flexDirection:"column",width:"auto",gap:"$2xl",px:"10%",py:"$5xl","@sm":{px:"10%",pb:"$5xl",pt:"$xl"}}),p=()=>{let t=(0,r.useRouter)(),e=(0,i.xs)(t,"walletAddress"),{account:s}=(0,n.kR)(),[u]=(0,n.pZ)(e||s),[d,h]=(0,a.useState)(0),[p,f]=(0,a.useState)(0),_=t=>{h(t)},g=t=>{f(t)},m=p-d;return(0,l.jsxs)(x,{children:[(0,l.jsx)(o.kC,{direction:"column",css:{gap:"$xxs"},children:(0,l.jsx)(o.xv,{variant:"h3",children:u||(0,c.zN)(e,[2,10],5)})}),(0,l.jsxs)(o.kC,{css:{gap:"$lg","@sm":{flexDirection:"column"}},children:[(0,l.jsx)(o.gK,{heading:"Clusters",content:p||"0",tooltipContent:"The number of clusters that this user operates"}),(0,l.jsx)(o.gK,{heading:"Validators",content:d||"0",tooltipContent:"The number of validators in all of this operators clusters"}),(0,l.jsx)(o.gK,{heading:"Invites",content:m>=0?m:"0",tooltipContent:"The number of cluster invites sent to this operator"})]}),(0,l.jsx)(v,{setTotalClusters:g,setTotalValidators:_,operator:e||s})]})};var f=p}},function(t){t.O(0,[774,888,179],function(){return t(t.s=41344)}),_N_E=t.O()}]);